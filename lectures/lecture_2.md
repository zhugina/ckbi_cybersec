# Лекций № 2

## Утилита ls

Назначение утилиты ls – отображать информацию о директориях (каталогах) и файлах, находящихся в папках.

`ls` - без указания папки выведет все файлы и папки в текущей директории  
`ls /bin/` - все файлы и папки в директории bin  
`ls -a /bin/` - выводит в том числе все, что начинается с точки (например `.vscode/`)  
`ls -A /bin/` - выводит в том числе все, что начинается с точки (например `.vscode/`), но без `.` и `..`  
`ls -R /bin/` - рекурсия  
`ls -l` - вывод дополнительной информации о файлах и папках  
`ls -m` - разделение элементов списка запятой. Может быть удобно для вывода в csv файл  
`ls -1` - в каждой отдельной строке отображать информацию только по одному объекту  
`ls -H` - вывод информации по ссылкам  
`ls -h` - размер файлов в удобном формате  
`ls -р` – если объект является директорией, то при выводе в конце названия отобразиться слэш.

`ls -lAHhpR` - команда хацкера

## Утилита mkdir

`mkdir` - создает папки.  
`mkdir -p` - создает все промежуточные папки  
`mkdir -m` - задает режим выдачи прав на созданные папки в формате chmod  
`mkdir dir_1 dir_2 dir_3` - можно создать несколько директорий

## Утилита rmdir

`rmdir` - удаляет папки.  
`rmdir -p /first/second/` - удаляет все промежуточные папки (включая first)  
`rmdir dir_1 dir_2 dir_3` - можно удалить несколько директорий

Утилита не сможет удалить непустую папку!

## cp

## mv

`mv` - перемещает и переименовывает файл.  
`mv -f` - не спрашить, если файл уже существует. Насильно перезаписывает  

## rm

`rm` - удаляет файлы.    
`rm -d` - удаляет в т.ч. папки.  
`rm -f` - удаление без всяких вопросов  
`rm -r` - рекурсивное удаление файлов (применяется вместе с флагом `-d`

`rm -dfr /dir_1` - удалит все файлы и папки в папке dir_1 и саму dir_1

В Linux нет корзины, поэтому удаление файлов и папок не откатывается!

## Пример

```bash
#!/bin/bash

dir=$(pwd)
logfile="log.txt"

if (( $# > 0 )) ; then
  dir=$1 # Первый аргумент запоминаем как директорию, по которой надо вывести информацию
fi

if (( $# > 1 )) ; then
  logfile=$2 # Второй аргумент запоминаем как файл, в который надо вывести информацию
fi

ls -lAhHpR $dir > $logfile
echo "Result was written to $logfile"
```

`less ./log.txt`

## Задание 1

Скрипт, который создает в заданной пользователем папке 10 папок и 10 подпапок в каждой. Если в заданной папке есть файлы, то скрипт копирует всех их в подпапки. 

## Задание 2

Скрипт, который удаляет все в заданной пользователем папке, но не удаляет самц папку
